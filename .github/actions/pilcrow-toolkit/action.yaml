name: pilcrow-toolkit
description: |
  Toolkit for Pilcrow CI and CD workflows
inputs:
  token:
    description: "GitHub token to use for authentication"
    required: true
  target:
    description: "Docker Bake Target"
    required: false
  docker-metadata:
    description: "Docker metadata from bake action"
    required: false
  command:
    description: "Command to run in the Docker container"
    required: false
runs:
  post-entrypoint: "post.sh"
  using: "docker"
  image: "Dockerfile"
  args:
    - ${{ inputs.command }}
  env:
    TARGET: ${{ inputs.target }}
    DOCKER_METADATA: ${{ inputs.docker-metadata }}
    GITHUB_TOKEN: ${{ inputs.token }}
