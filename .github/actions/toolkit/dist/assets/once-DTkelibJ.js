import{h as j}from"./action-Bjp6SQtd.js";var q=x;function x(e,r,t){e instanceof RegExp&&(e=d(e,t)),r instanceof RegExp&&(r=d(r,t));var n=m(e,r,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+e.length,n[1]),post:t.slice(n[1]+r.length)}}function d(e,r){var t=r.match(e);return t?t[0]:null}x.range=m;function m(e,r,t){var n,o,i,u,a,c=t.indexOf(e),l=t.indexOf(r,c+1),f=c;if(c>=0&&l>0){if(e===r)return[c,l];for(n=[],i=t.length;f>=0&&!a;)f==c?(n.push(f),c=t.indexOf(e,f+1)):n.length==1?a=[n.pop(),l]:(o=n.pop(),o<i&&(i=o,u=l),l=t.indexOf(r,f+1)),f=c<l&&c>=0?c:l;n.length&&(a=[i,u])}return a}function z(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var v={exports:{}},A=w;function w(e,r,t,n){if(typeof t!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(r)?r.reverse().reduce(function(o,i){return w.bind(null,e,i,o,n)},t)():Promise.resolve().then(function(){return e.registry[r]?e.registry[r].reduce(function(o,i){return i.hook.bind(null,o,n)},t)():t(n)})}var C=D;function D(e,r,t,n){var o=n;e.registry[t]||(e.registry[t]=[]),r==="before"&&(n=function(i,u){return Promise.resolve().then(o.bind(null,u)).then(i.bind(null,u))}),r==="after"&&(n=function(i,u){var a;return Promise.resolve().then(i.bind(null,u)).then(function(c){return a=c,o(a,u)}).then(function(){return a})}),r==="error"&&(n=function(i,u){return Promise.resolve().then(i.bind(null,u)).catch(function(a){return o(a,u)})}),e.registry[t].push({hook:n,orig:o})}var P=F;function F(e,r,t){if(e.registry[r]){var n=e.registry[r].map(function(o){return o.orig}).indexOf(t);n!==-1&&e.registry[r].splice(n,1)}}var H=A,R=C,M=P,h=Function.bind,b=h.bind(h);function E(e,r,t){var n=b(M,null).apply(null,t?[r,t]:[r]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(o){var i=t?[r,o,t]:[r,o];e[o]=e.api[o]=b(R,null).apply(null,i)})}function T(){var e="h",r={registry:{}},t=H.bind(null,r,e);return E(t,r,e),t}function k(){var e={registry:{}},r=H.bind(null,e);return E(r,e),r}var y=!1;function s(){return y||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),y=!0),k()}s.Singular=T.bind();s.Collection=k.bind();v.exports=s;v.exports.Hook=s;v.exports.Singular=s.Singular;var B=v.exports.Collection=s.Collection;class G extends Error{constructor(r){super(r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var g={exports:{}},N=O;function O(e,r){if(e&&r)return O(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];var i=e.apply(this,n),u=n[n.length-1];return typeof i=="function"&&i!==u&&Object.keys(u).forEach(function(a){i[a]=u[a]}),i}}var S=N;g.exports=S(p);g.exports.strict=S($);p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return $(this)},configurable:!0})});function p(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function $(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},t=e.name||"Function wrapped with `once`";return r.onceError=t+" shouldn't be called more than once",r.called=!1,r}var _=g.exports;const I=j(_);export{B as C,G as D,q as b,z as g,I as o};
//# sourceMappingURL=once-DTkelibJ.js.map
